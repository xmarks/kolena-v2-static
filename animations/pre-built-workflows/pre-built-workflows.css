/* Pre-Built Workflows Animation - Standalone */

/* Main container - w-full md:max-w-[600px] aspect-[4/3] bg-gradient-to-br from-background to-muted rounded-lg */
.pre-built-workflows {
    width: 100%;
    max-width: 600px;
    aspect-ratio: 4 / 3;
    background: linear-gradient(135deg, hsl(0, 0%, 100%) 0%, hsl(220, 14%, 96%) 100%);
    border-radius: 8px;
    display: grid;
    place-items: center;
    position: relative;
    overflow: hidden;
    padding: 16px;
    box-sizing: border-box;
}

@media (min-width: 768px) {
    .pre-built-workflows {
        padding: 24px;
    }
}

/* Stage containers - AnimatePresence mode="wait" */
/* All stages overlap in the same grid cell to prevent position switching issues */
.pre-built-workflows__stage {
    grid-row-start: 1;
    grid-row-end: 1;
    grid-column-start: 1;
    grid-column-end: 1;
    width: 100%;
    opacity: 0;
    transition: opacity 0.4s ease-in-out;
    display: flex;
    align-items: center;
    justify-content: center;
    pointer-events: none;
}

.pre-built-workflows__stage--active {
    opacity: 1;
    pointer-events: auto;
}

/* ===================================
   SELECT STAGE
   =================================== */

/* text-center mb-4 */
.pre-built-workflows__select-header {
    text-align: center;
    margin-bottom: 16px;
}

/* text-xs font-semibold text-primary uppercase tracking-wider mb-2 */
.pre-built-workflows__select-label {
    font-size: 12px;
    font-weight: 600;
    color: hsl(254, 76%, 55%);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 8px;
}

/* text-lg font-semibold text-foreground */
.pre-built-workflows__select-title {
    font-size: 18px;
    font-weight: 600;
    color: hsl(220, 13%, 18%);
}

/* grid grid-cols-2 gap-3 */
.pre-built-workflows__workflow-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
}

/* p-4 rounded-lg border-2 transition-all + selected/unselected variants */
.pre-built-workflows__workflow-card {
    padding: 16px;
    border-radius: 8px;
    border: 2px solid hsl(220, 13%, 91%);
    background-color: #fff;
    transition: all 0.3s;
    opacity: 0;
    transform: translateY(20px);
}

/* Staggered animation - initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} delay: i * 0.1 */
.pre-built-workflows__workflow-card:nth-child(1) { animation: fadeInUp 0.4s ease-out 0s forwards; }
.pre-built-workflows__workflow-card:nth-child(2) { animation: fadeInUp 0.4s ease-out 0.1s forwards; }
.pre-built-workflows__workflow-card:nth-child(3) { animation: fadeInUp 0.4s ease-out 0.2s forwards; }
.pre-built-workflows__workflow-card:nth-child(4) { animation: fadeInUp 0.4s ease-out 0.3s forwards; }

@keyframes fadeInUp {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* bg-[#6336E5]/10 border-[#6336E5] shadow-lg shadow-[#6336E5]/20 */
/* Selected card has integrated scale animation: scale: [1, 1.05, 1] during entrance */
.pre-built-workflows__workflow-card--selected {
    background-color: rgba(99, 54, 229, 0.1);
    border-color: #6336E5;
    box-shadow: 0 10px 15px -3px rgba(99, 54, 229, 0.2);
    animation: fadeInUpWithPulse 0.5s ease-in-out 0s forwards;
}

/* Combined animation for selected card: fade in + y translate + scale pulse */
@keyframes fadeInUpWithPulse {
    0% {
        opacity: 0;
        transform: translateY(20px) scale(1);
    }
    50% {
        opacity: 1;
        transform: translateY(0) scale(1.05);
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* text-sm font-medium text-foreground */
.pre-built-workflows__workflow-name {
    font-size: 14px;
    font-weight: 500;
    color: hsl(220, 13%, 18%);
}

/* ===================================
   UPLOAD STAGE
   =================================== */

/* text-center mb-6 */
.pre-built-workflows__upload-header {
    text-align: center;
    margin-bottom: 24px;
}

/* text-sm text-muted-foreground */
.pre-built-workflows__upload-text {
    font-size: 14px;
    color: hsl(220, 9%, 46%);
}

/* flex flex-wrap justify-center gap-3 max-w-lg mx-auto */
.pre-built-workflows__documents {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 12px;
    max-width: 512px;
    margin: 0 auto;
}

/* bg-white rounded-lg px-4 py-2.5 shadow-md border border-border flex items-center gap-2 min-w-[140px] */
.pre-built-workflows__document {
    background-color: #fff;
    border-radius: 8px;
    padding: 10px 16px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    border: 1px solid hsl(220, 13%, 91%);
    display: flex;
    align-items: center;
    gap: 8px;
    min-width: 140px;
    max-width: 140px;
    flex-shrink: 0;
    flex-grow: 0;
    opacity: 0;
    transform: translateX(-100px);
    transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;
}

.pre-built-workflows__document--visible {
    opacity: 1;
    transform: translateX(0);
}

/* w-4 h-4 text-[#6336E5] flex-shrink-0 */
.pre-built-workflows__document-icon {
    width: 16px;
    height: 16px;
    color: #6336E5;
    flex-shrink: 0;
}

.pre-built-workflows__document-icon svg {
    width: 100%;
    height: 100%;
}

/* text-xs font-medium text-foreground truncate flex-1 */
.pre-built-workflows__document-name {
    font-size: 12px;
    font-weight: 500;
    color: hsl(220, 13%, 18%);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    flex: 1;
}

/* w-4 h-4 text-[#43D3B0] flex-shrink-0 + spring animation */
.pre-built-workflows__document-check {
    width: 16px;
    height: 16px;
    color: #43D3B0;
    flex-shrink: 0;
    opacity: 0;
    transform: scale(0);
    transition: opacity 0.3s ease 0.15s, transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55) 0.15s;
}

.pre-built-workflows__document-check svg {
    width: 100%;
    height: 100%;
}

.pre-built-workflows__document-check--visible {
    opacity: 1;
    transform: scale(1);
}

/* ===================================
   PROCESS STAGE
   =================================== */

/* grid grid-cols-1 md:grid-cols-3 gap-3 relative */
.pre-built-workflows__process-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 12px;
    position: relative;
    width: 100%;
}

@media (min-width: 768px) {
    .pre-built-workflows__process-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* absolute inset-0 w-full h-full pointer-events-none z-20 */
.pre-built-workflows__process-svg {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 20;
}

/* stroke="#43D3B0" strokeWidth="3" pathLength animation */
.pre-built-workflows__process-line {
    stroke: #43D3B0;
    stroke-width: 3;
    fill: none;
    stroke-dasharray: 1000;
    stroke-dashoffset: 1000;
    animation: drawLine 2.4s ease-in-out forwards;
}

@keyframes drawLine {
    to {
        stroke-dashoffset: 0;
    }
}

/* Mobile (default): block, Desktop: hidden */
.pre-built-workflows__process-line--mobile {
    display: block;
}

.pre-built-workflows__process-line--desktop {
    display: none;
}

@media (min-width: 768px) {
    .pre-built-workflows__process-line--mobile {
        display: none;
    }
    .pre-built-workflows__process-line--desktop {
        display: block;
    }
}

/* fill="#43D3B0" r="4" with animated cx/cy */
.pre-built-workflows__process-circle {
    fill: #43D3B0;
}

.pre-built-workflows__process-circle--desktop {
    display: none;
    animation: moveCircleHorizontal 2.4s ease-in-out forwards;
}

.pre-built-workflows__process-circle--mobile {
    display: block;
    animation: moveCircleVertical 2.4s ease-in-out forwards;
}

@media (min-width: 768px) {
    .pre-built-workflows__process-circle--mobile {
        display: none;
    }
    .pre-built-workflows__process-circle--desktop {
        display: block;
    }
}

@keyframes moveCircleHorizontal {
    from { cx: 10%; }
    to { cx: 90%; }
}

@keyframes moveCircleVertical {
    from { cy: 10%; }
    to { cy: 90%; }
}

/* bg-white rounded-lg p-3 shadow-md border border-border */
.pre-built-workflows__process-panel {
    background-color: #fff;
    border-radius: 8px;
    padding: 12px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    border: 1px solid hsl(220, 13%, 91%);
    position: relative;
    z-index: 10;
}

/* text-xs font-semibold text-[#6336E5] mb-2 */
.pre-built-workflows__process-panel-title {
    font-size: 12px;
    font-weight: 600;
    color: #6336E5;
    margin-bottom: 8px;
}

/* space-y-1.5 */
.pre-built-workflows__process-items {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

/* flex items-center gap-1.5 text-xs */
.pre-built-workflows__process-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 12px;
}

/* w-3 h-3 text-muted-foreground flex-shrink-0 */
.pre-built-workflows__process-item-icon {
    width: 12px;
    height: 12px;
    color: hsl(220, 9%, 46%);
    flex-shrink: 0;
}

.pre-built-workflows__process-item-icon svg {
    width: 100%;
    height: 100%;
}

/* text-muted-foreground truncate text-[10px] */
.pre-built-workflows__process-item-name {
    color: hsl(220, 9%, 46%);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    font-size: 10px;
    flex: 1;
}

/* w-3 h-3 text-[#43D3B0] ml-auto flex-shrink-0 */
.pre-built-workflows__process-item-check {
    width: 12px;
    height: 12px;
    color: #43D3B0;
    margin-left: auto;
    flex-shrink: 0;
}

.pre-built-workflows__process-item-check svg {
    width: 100%;
    height: 100%;
}

/* Process Panel - Middle (with fields) */
/* text-[10px] px-2 py-1 rounded border flex items-center justify-between */
.pre-built-workflows__process-field {
    font-size: 10px;
    padding: 4px 8px;
    border-radius: 4px;
    border: 1px solid hsl(220, 13%, 91%);
    display: flex;
    align-items: center;
    justify-content: space-between;
    background-color: transparent;
    transition: all 0.3s ease;
}

/* backgroundColor: isActive ? 'rgba(67, 211, 176, 0.15)' : 'transparent' */
.pre-built-workflows__process-field--active {
    background-color: rgba(67, 211, 176, 0.15);
    border-color: #43D3B0;
}

/* text-muted-foreground */
.pre-built-workflows__process-field-label {
    color: hsl(220, 9%, 46%);
}

/* font-semibold text-foreground ml-1 + fade in */
.pre-built-workflows__process-field-value {
    font-weight: 600;
    color: hsl(220, 13%, 18%);
    margin-left: 4px;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.pre-built-workflows__process-field-value--visible {
    opacity: 1;
}

/* Process Panel - Output placeholders */
/* h-2 bg-muted rounded */
.pre-built-workflows__output-placeholder {
    height: 8px;
    background-color: hsl(220, 14%, 96%);
    border-radius: 4px;
    margin-bottom: 6px;
}

.pre-built-workflows__output-placeholder:last-child {
    margin-bottom: 0;
}

/* w-3/4 */
.pre-built-workflows__output-placeholder--75 {
    width: 75%;
}

/* w-1/2 */
.pre-built-workflows__output-placeholder--50 {
    width: 50%;
}

/* ===================================
   OUTPUT STAGE
   =================================== */

/* w-full max-w-md */
.pre-built-workflows__output-container {
    width: 100%;
    max-width: 448px;
}

/* bg-white rounded-lg p-6 shadow-xl border border-[#43D3B0]/30 relative */
.pre-built-workflows__output-card {
    background-color: #fff;
    border-radius: 8px;
    padding: 24px;
    box-shadow: 0 10px 40px rgba(67, 211, 176, 0.2);
    border: 1px solid rgba(67, 211, 176, 0.3);
    position: relative;
    animation: pulseGlow 2s ease-in-out infinite;
}

@keyframes pulseGlow {
    0%, 100% {
        box-shadow: 0 10px 40px rgba(67, 211, 176, 0.2);
    }
    50% {
        box-shadow: 0 10px 40px rgba(67, 211, 176, 0.4);
    }
}

/* absolute -top-2 -right-2 bg-[#43D3B0] text-white text-xs font-semibold px-3 py-1 rounded-full shadow-lg */
.pre-built-workflows__output-badge {
    position: absolute;
    top: -8px;
    right: -8px;
    background-color: #43D3B0;
    color: #fff;
    font-size: 12px;
    font-weight: 600;
    padding: 4px 12px;
    border-radius: 9999px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    opacity: 0;
    transform: scale(0);
    animation: popIn 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55) 0.3s forwards;
}

@keyframes popIn {
    to {
        opacity: 1;
        transform: scale(1);
    }
}

/* flex items-center gap-2 mb-4 */
.pre-built-workflows__output-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 16px;
}

/* w-5 h-5 text-[#43D3B0] */
.pre-built-workflows__output-icon {
    width: 20px;
    height: 20px;
    color: #43D3B0;
    opacity: 0;
    transform: scale(0);
    animation: popIn 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55) 0.2s forwards;
}

.pre-built-workflows__output-icon svg {
    width: 100%;
    height: 100%;
}

/* text-sm font-semibold text-foreground */
.pre-built-workflows__output-title {
    font-size: 14px;
    font-weight: 600;
    color: hsl(220, 13%, 18%);
}

/* space-y-3 */
.pre-built-workflows__output-fields {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

/* flex justify-between items-center */
.pre-built-workflows__output-field {
    display: flex;
    justify-content: space-between;
    align-items: center;
    opacity: 0;
    transform: translateX(-20px);
}

.pre-built-workflows__output-field:nth-child(1) { animation: slideInLeft 0.4s ease-out 0.3s forwards; }
.pre-built-workflows__output-field:nth-child(2) { animation: slideInLeft 0.4s ease-out 0.4s forwards; }
.pre-built-workflows__output-field:nth-child(3) { animation: slideInLeft 0.4s ease-out 0.5s forwards; }
.pre-built-workflows__output-field:nth-child(4) { animation: slideInLeft 0.4s ease-out 0.6s forwards; }

@keyframes slideInLeft {
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* text-sm text-muted-foreground */
.pre-built-workflows__output-field-label {
    font-size: 14px;
    color: hsl(220, 9%, 46%);
}

/* font-semibold */
.pre-built-workflows__output-field-value {
    font-size: 14px;
    font-weight: 600;
    color: hsl(220, 13%, 18%);
}

/* mt-4 pt-4 border-t border-border flex items-center gap-2 text-[#43D3B0] */
.pre-built-workflows__output-footer {
    margin-top: 16px;
    padding-top: 16px;
    border-top: 1px solid hsl(220, 13%, 91%);
    display: flex;
    align-items: center;
    gap: 8px;
    color: #43D3B0;
    opacity: 0;
    transform: translateY(10px);
    animation: slideInUp 0.4s ease-out 0.8s forwards;
}

@keyframes slideInUp {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* w-5 h-5 */
.pre-built-workflows__output-footer-icon {
    width: 20px;
    height: 20px;
}

.pre-built-workflows__output-footer-icon svg {
    width: 100%;
    height: 100%;
}

/* text-sm font-medium */
.pre-built-workflows__output-footer-text {
    font-size: 14px;
    font-weight: 500;
}

/* flex gap-2 mt-4 justify-center */
.pre-built-workflows__output-actions {
    display: flex;
    gap: 8px;
    margin-top: 16px;
    justify-content: center;
    opacity: 0;
    transform: translateY(10px);
    animation: slideInUp 0.4s ease-out 1s forwards;
}

/* bg-white border border-border rounded-lg px-4 py-2 text-xs font-medium text-muted-foreground shadow-sm */
.pre-built-workflows__output-action {
    background-color: #fff;
    border: 1px solid hsl(220, 13%, 91%);
    border-radius: 8px;
    padding: 8px 16px;
    font-size: 12px;
    font-weight: 500;
    color: hsl(220, 9%, 46%);
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
}
